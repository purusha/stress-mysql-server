package script.contactlab.com;

import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.List;

import org.apache.commons.lang3.StringUtils;

import com.google.common.collect.Lists;

public class ConnectionScanner extends ParsingUtil {

	private String filePath;

	public ConnectionScanner(String filePath) {
		this.filePath = filePath;
	}

	public List<String> buildStatemens() throws IOException {
		final List<String> result = Lists.newArrayList();
		
		final FileInputStream fstream = new FileInputStream(filePath);			
		final BufferedReader br = new BufferedReader(new InputStreamReader(fstream));		
		
		String strLine;
		while ((strLine = br.readLine()) != null) {
			final String statementData = getStatementData(strLine);
			
			if (StringUtils.isNoneBlank(statementData)) {
				result.add(statementData);
			}
		}	
		
		br.close();	
		return result;
	}

}
