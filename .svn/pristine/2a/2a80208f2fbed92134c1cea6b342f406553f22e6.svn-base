package runner.contactlab.com;

import com.google.inject.AbstractModule;
import com.google.inject.Guice;
import com.google.inject.Injector;
import com.mchange.v2.log.FallbackMLog;

public class App {	
    public static void main( String[] args ) throws Exception{
        
    	final Injector injector = Guice.createInjector(
			new AbstractModule() {
				
				@Override
				protected void configure() {
					
					bind(ApplicationRunner.class);
					
				}
			}
    	);
    	
    	//XXX 
    	// c3p0 non ha un log binded with slf4j ... !!?
    	// visto che di default usa l'impementazione jdk che stampa su sysout
    	// gli alzo il log level a WARNING
    	System.setProperty("com.mchange.v2.log.MLog", FallbackMLog.class.getCanonicalName());
    	System.setProperty("com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL", "WARNING");    	    	       	    
    	
    	injector.getInstance(ApplicationRunner.class).run();    	
    }
       
}

/*

	Export with:
	
	> mvn compile assembly:single
	
	http://stackoverflow.com/questions/574594/how-can-i-create-an-executable-jar-with-dependencies-using-maven

*/
